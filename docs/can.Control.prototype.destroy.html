<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>CanJS </title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" href="../resources/styles.css" />
	
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand canjs" href="../index.html">CanJS</a>
				<ul class="dropdown-menu">
					<li><a href="http://donejs.com">DoneJS</a></li>
					<li class="active"><a href="../index.html">CanJS</a></li>
					<li><a href="http://jquerypp.com">JQuery++</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!stealjs">StealJS</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!FuncUnit">FuncUnit</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!DocumentJS">DocumentJS</a></li>
				</ul>
			</div>

			<ul class="nav">
				<li class=""><a href="../index.html">Home</a></li>
				<li class=""><a href="../guides/index.html">Guides</a></li>
				<li class="active"><a href="../docs/index.html">Api</a></li>
				<li class=""><a href="../community.html">Community</a></li>
				<li class=""><a href="../download.html">Download</a></li>
			</ul>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container api">
	<nav class="sidebar">
		<div class="search">
			<input type="text"/>
		</div>
		<ul class="api">
	
	<li >
	<a href="can.Construct.html">can.Construct</a>
	
	</li>
	
	<li class="active">
	<a href="can.Control.html">can.Control</a>
	
		
		<ul>
		
			
				<li class="heading"><span>prototype</span>
					<ul>
						
						
						<li class="active">
							<a href="can.Control.prototype.destroy.html">
								 destroy 
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Control.prototype.element.html">
								 element 
							</a>
						</li>
						
						
						
						
						
						<li >
							<a href="can.Control.prototype.on.html">
								 on 
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Control.prototype.options.html">
								 options 
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Control.prototype.setup.html">
								 setup 
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
			
				<li class="heading"><span>static</span>
					<ul>
						
						
						<li >
							<a href="can.Control.defaults.html">
								 defaults 
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Control.processors.html">
								 processors 
							</a>
						</li>
						
						
						
						
						
						
						
						
					</ul>
				</li>
			
		
		</ul>
		
	
	</li>
	
	<li >
	<a href="can.Deferred.html">can.Deferred</a>
	
	</li>
	
	<li >
	<a href="can.EJS.html">can.EJS</a>
	
	</li>
	
	<li >
	<a href="can.Model.html">can.Model</a>
	
	</li>
	
	<li >
	<a href="can.Model.List.html">can.Model.List</a>
	
	</li>
	
	<li >
	<a href="can.Mustache.html">can.Mustache</a>
	
	</li>
	
	<li >
	<a href="can.Observe.html">can.Observe</a>
	
	</li>
	
	<li >
	<a href="can.Observe.List.html">can.Observe.List</a>
	
	</li>
	
	<li >
	<a href="can.compute.html">can.compute</a>
	
	</li>
	
	<li >
	<a href="can.route.html">can.route</a>
	
	</li>
	
	<li >
	<a href="can.util.html">can.util</a>
	
	</li>
	
	<li >
	<a href="can.view.html">can.view</a>
	
	</li>
	
</ul>
	</nav>

	<article class="content docs">
		<section class="title">
			<div class="pull-right">
	<ul class="tags">
		<li>function</li>
	</ul>
	<ul class="links">
		
			<li><a href="https://github.com/bitovi/canjs/tree/v1.1.5/control/control.js#L684">source</a></li>
		
		
		
	</ul>
</div>

	<h1>destroy</h1><!-- <span class="module">can.Control.prototype.destroy</span>-->




		</section>

		<section class="description">
			<p>Remove a Control from an element and clean up the Control. </p>
		</section>

		
		<section class="signature">
			<h2>destroy()</h2>



		</section>
		

		
		<section class="comment">
			<p><code>destroy</code> prepares a control for garbage collection and is a place to
reset any changes the control has made.  </p>

<h2>Allowing Garbage Collection</h2>

<p>Destroy is called whenever a control's element is removed from the page using 
the library's standard HTML modifier methods.  This means that you
don't have to call destroy yourself and it 
will be called automatically when appropriate.  </p>

<p>The following <code>Clicker</code> widget listens on the window for clicks and updates
its element's innerHTML.  If we remove the element, the window's event handler
is removed auto-magically:</p>

<pre><code> Clickr = can.Control({
  "{window} click": function() {
       this.element.html( this.count ? 
                          this.count++ : this.count = 0 );
  }  
});

// create a clicker on an element
new Clicker( "#clickme" );

// remove the element
$( '#clickme' ).remove();
</code></pre>

<p>The methods you can use that will destroy controls automatically by library:</p>

<p><strong>jQuery and Zepto</strong></p>

<ul>
<li>$.fn.remove</li>
<li>$.fn.html</li>
<li>$.fn.replaceWith</li>
<li>$.fn.empty</li>
</ul>

<p><strong>Dojo</strong></p>

<ul>
<li>dojo.destroy</li>
<li>dojo.empty</li>
<li>dojo.place (with the replace option)</li>
</ul>

<p><strong>Mootools</strong></p>

<ul>
<li>Element.prototype.destroy</li>
</ul>

<p><strong>YUI</strong></p>

<ul>
<li>TODO!</li>
</ul>

<h2>Teardown in Destroy</h2>

<p>Sometimes, you want to reset a controlled element back to its
original state when the control is destroyed.  Overwriting destroy
lets you write teardown code of this manner.  <strong>When overwriting
destroy, make sure you call Control's base functionality</strong>.</p>

<p>The following example changes an element's text when the control is
created and sets it back when the control is removed:</p>

<pre><code>Changer = can.Control({
  init: function() {
    this.oldText = this.element.text();
    this.element.text( "Changed!!!" );
  },
  destroy: function() {
    this.element.text( this.oldText );
    can.Control.prototype.destroy.call( this );
  }
});

// create a changer which changes #myel's text
var changer = new Changer( '#myel' );

// destroy changer which will reset it
changer.destroy();
</code></pre>

<h2>Base Functionality</h2>

<p>Control prepares the control for garbage collection by:</p>

<ul>
<li>unbinding all event handlers</li>
<li>clearing references to this.element and this.options</li>
<li>clearing the element's reference to the control</li>
<li>removing it's [can.Control.pluginName] from the element's className</li>
</ul>
		</section>
		
	</article>
</div>

<script type="text/javascript">
	var docData = {
    "type": "function",
    "name": "can.Control.prototype.destroy",
    "parent": "can.Control.prototype",
    "body": "<p><code>destroy</code> prepares a control for garbage collection and is a place to\nreset any changes the control has made.  </p>\n\n<h2>Allowing Garbage Collection</h2>\n\n<p>Destroy is called whenever a control's element is removed from the page using \nthe library's standard HTML modifier methods.  This means that you\ndon't have to call destroy yourself and it \nwill be called automatically when appropriate.  </p>\n\n<p>The following <code>Clicker</code> widget listens on the window for clicks and updates\nits element's innerHTML.  If we remove the element, the window's event handler\nis removed auto-magically:</p>\n\n<pre><code> Clickr = can.Control({\n  \"{window} click\": function() {\n       this.element.html( this.count ? \n                          this.count++ : this.count = 0 );\n  }  \n});\n\n// create a clicker on an element\nnew Clicker( \"#clickme\" );\n\n// remove the element\n$( '#clickme' ).remove();\n</code></pre>\n\n<p>The methods you can use that will destroy controls automatically by library:</p>\n\n<p><strong>jQuery and Zepto</strong></p>\n\n<ul>\n<li>$.fn.remove</li>\n<li>$.fn.html</li>\n<li>$.fn.replaceWith</li>\n<li>$.fn.empty</li>\n</ul>\n\n<p><strong>Dojo</strong></p>\n\n<ul>\n<li>dojo.destroy</li>\n<li>dojo.empty</li>\n<li>dojo.place (with the replace option)</li>\n</ul>\n\n<p><strong>Mootools</strong></p>\n\n<ul>\n<li>Element.prototype.destroy</li>\n</ul>\n\n<p><strong>YUI</strong></p>\n\n<ul>\n<li>TODO!</li>\n</ul>\n\n<h2>Teardown in Destroy</h2>\n\n<p>Sometimes, you want to reset a controlled element back to its\noriginal state when the control is destroyed.  Overwriting destroy\nlets you write teardown code of this manner.  <strong>When overwriting\ndestroy, make sure you call Control's base functionality</strong>.</p>\n\n<p>The following example changes an element's text when the control is\ncreated and sets it back when the control is removed:</p>\n\n<pre><code>Changer = can.Control({\n  init: function() {\n    this.oldText = this.element.text();\n    this.element.text( \"Changed!!!\" );\n  },\n  destroy: function() {\n    this.element.text( this.oldText );\n    can.Control.prototype.destroy.call( this );\n  }\n});\n\n// create a changer which changes #myel's text\nvar changer = new Changer( '#myel' );\n\n// destroy changer which will reset it\nchanger.destroy();\n</code></pre>\n\n<h2>Base Functionality</h2>\n\n<p>Control prepares the control for garbage collection by:</p>\n\n<ul>\n<li>unbinding all event handlers</li>\n<li>clearing references to this.element and this.options</li>\n<li>clearing the element's reference to the control</li>\n<li>removing it's [can.Control.pluginName] from the element's className</li>\n</ul>",
    "description": "<p>Remove a Control from an element and clean up the Control. </p>",
    "signatures": [{
            "code": "destroy()",
            "description": "",
            "params": []
        }
    ],
    "title": "destroy",
    "comment": " ",
    "src": "can/control/control.js",
    "line": 684,
    "id": 85
};

	console.log(docData);
</script>



	<footer>
		<nav class="container">
			<a class="brand canjs" href="index.html">CanJS</a>
			<ul class="pullright">
				<li><a href="../index.html">Home</a></li>
				<li><a href="../guides/index.html">Guides</a></li>
				<li><a href="../docs/index.html">Api</a></li>
				<li><a href="../community.html">Community</a></li>
				<li><a href="../download.html">Download</a></li>
			</ul>
		</nav>
	</footer>
	<!--[if lt IE 9]>
   <script type="text/javascript" src="../resources/html5shiv.js"></script>
    <!--<![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="../resources/production.js"></script>
</body>

</html>
