<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>CanJS </title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" href="../resources/styles.css" />
	
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand canjs" href="../index.html">CanJS</a>
				<ul class="dropdown-menu">
					<li><a href="http://donejs.com">DoneJS</a></li>
					<li class="active"><a href="../index.html">CanJS</a></li>
					<li><a href="http://jquerypp.com">JQuery++</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!stealjs">StealJS</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!FuncUnit">FuncUnit</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!DocumentJS">DocumentJS</a></li>
				</ul>
			</div>

			<ul class="nav">
				<li class=""><a href="../index.html">Home</a></li>
				<li class=""><a href="../guides/index.html">Guides</a></li>
				<li class="active"><a href="../docs/index.html">Api</a></li>
				<li class=""><a href="../community.html">Community</a></li>
				<li class=""><a href="../download.html">Download</a></li>
			</ul>

			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container api">
	<nav class="sidebar">
		<div class="search">
			<input type="text"/>
		</div>
		<ul class="api">
	
	<li >
	<a href="can.Construct.html">can.Construct</a>
	
	</li>
	
	<li >
	<a href="can.Control.html">can.Control</a>
	
	</li>
	
	<li >
	<a href="can.Deferred.html">can.Deferred</a>
	
	</li>
	
	<li >
	<a href="can.EJS.html">can.EJS</a>
	
	</li>
	
	<li >
	<a href="can.Model.html">can.Model</a>
	
	</li>
	
	<li >
	<a href="can.Model.List.html">can.Model.List</a>
	
	</li>
	
	<li >
	<a href="can.Mustache.html">can.Mustache</a>
	
	</li>
	
	<li class="active">
	<a href="can.Observe.html">can.Observe</a>
	
		
		<ul>
		
			
				<li class="heading">
					<span>page</span>
					<ul>
						
						
						<li >
							<a href="can.Observe.attributes.static.attributes.html">
								attributes
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.attributes.static.convert.html">
								can.Observe.convert
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.attributes.static.serialize.html">
								can.Observe.serialize
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.prototype.attributes.serialize.html">
								serialize
							</a>
						</li>
						
						
						
						
						
						
					</ul>
				</li>
			
		
			
				<li class="heading">
					<span>page</span>
					<ul>
						
						
						<li >
							<a href="can.Observe.backup.prototype.backup.html">
								backup
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.backup.prototype.isDirty.html">
								isDirty
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.backup.prototype.restore.html">
								restore
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
			
				<li class="heading">
					<span>page</span>
					<ul>
						
						
						<li >
							<a href="can.Observe.prototype.delegate.html">
								delegate
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.prototype.undelegate.html">
								undelegate
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
			
				<li class="heading">
					<span>prototype</span>
					<ul>
						
						
						
						
						<li >
							<a href="can.Observe.prototype.attr.html">
								attr
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.prototype.bind.html">
								bind
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.prototype.compute.html">
								compute
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.prototype.each.html">
								each
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.prototype.removeAttr.html">
								removeAttr
							</a>
						</li>
						
						
						
						
						
						<li >
							<a href="can.Observe.prototype.unbind.html">
								unbind
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
			
				<li class="heading">
					<span>page</span>
					<ul>
						
						
						<li >
							<a href="can.classize.html">
								can.classize
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
			
				<li class="heading">
					<span>static</span>
					<ul>
						
						
						<li >
							<a href="can.Observe.keys.html">
								keys
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.startBatch.html">
								startBatch
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.stopBatch.html">
								stopBatch
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.triggerBatch.html">
								triggerBatch
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
			
				<li class="heading">
					<span>page</span>
					<ul>
						
						
						<li >
							<a href="can.Observe.validations.static.validateFormatOf.html">
								can.Observe.validateFormatOf
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.validations.static.validateInclusionOf.html">
								can.Observe.validateInclusionOf
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.validations.static.validateLengthOf.html">
								can.Observe.validateLengthOf
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.validations.static.validatePresenceOf.html">
								can.Observe.validatePresenceOf
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.validations.static.validateRangeOf.html">
								can.Observe.validateRangeOf
							</a>
						</li>
						
						
						
						<li >
							<a href="can.Observe.validations.static.validationMessages.html">
								can.Observe.validationMessages
							</a>
						</li>
						
						
					</ul>
				</li>
			
		
		</ul>
		
	
	</li>
	
	<li >
	<a href="can.Observe.List.html">can.Observe.List</a>
	
	</li>
	
	<li >
	<a href="can.compute.html">can.compute</a>
	
	</li>
	
	<li >
	<a href="can.route.html">can.route</a>
	
	</li>
	
	<li >
	<a href="can.util.html">can.util</a>
	
	</li>
	
	<li >
	<a href="can.view.html">can.view</a>
	
	</li>
	
</ul>
	</nav>

	<article class="content docs">
		<section class="title">
			<div class="pull-right">
	<ul class="tags">
		<li>page</li>
	</ul>
	<ul class="links">
		
			<li><a href="https://github.com/bitovi/canjs/tree/v1.1.5/observe/validations/validations.md">source</a></li>
		
		
			<li><a href="http://bitbuilder.herokuapp.com/can.custom.js?plugins=http://donejs.com/can/dist/can.observe.validations.js">download</a></li>
		
		
			<li><a href="../can/observe/validations/qunit.html">tests</a></li>
		
	</ul>
</div>

	<h1>validations</h1><!-- <span class="module">can.Observe.validations</span>-->




		</section>

		<section class="description">
			<p>The <code>can/observe/validations</code> plugin provides validations on observes. Validations
are set on <a href="can.Observe.html">can.Observe</a>'s <strong>static</strong> <code>init</code> function.</p>

<p>The following validates the <code>birthday</code> attribute in Contacts:</p>

<pre><code>Contact = can.Observe({
    init : function(){
        // validates that birthday is in the future
        this.validate("birthday",function(birthday){
            if(birthday &gt; new Date){
                return "your birthday needs to be in the past"
            }
        })
    }
},{});

var contact = new Contact({birthday: new Date(2012,0) })
</code></pre>

<p>Use [can.Observe::errors errors] <code>( [attrs...], newVal )</code> to read errors
or to test if setting a value would create an error:</p>

<pre><code>// Check if there are errors on the instance
contact.errors() //-&gt; null - there are no errors

// Test if setting birthday to new Date(3013,0) would error
contact.errros("birthday", 
               new Date(3013,0) ) 
               //-&gt; ["your birthday needs to be in the past"] 

// Set birthday anyway
contact.attr("birthday", new Date(3013,0) )

// Get all errors
contact.errors() 
    //-&gt; {
    //     birthday: ["your birthday needs to be in the past"]
    //   }

// Get errors for birthday
contact.errors("birthday") 
    //-&gt; ["your birthday needs to be in the past"]
</code></pre>

<h2>Validation Methods</h2>

<p>The most basic validate method is [can.Observe.validate validate]<code>()</code>.  </p>

<p>There are several built-in validation methods so you don't have to define your own in all cases like in the birthday example above.</p>

<ul>
<li>[can.Observe.validate]<code>(attrNames, options, proc)</code> Attributes validated with function.</li>
<li>[can.Observe.validateFormatOf]<code>(attrNames, regexp, options)</code> Attributes match the regular expression.    </li>
<li>[can.Observe.validateInclusionOf]<code>( attrNames, inArray, [options] )</code> Attributes are available in a particular array.    </li>
<li>[can.Observe.validateLengthOf validateLengthOf]<code>(attrNames, min, max, [options])</code> Attributes' lengths are in the given range.    </li>
<li>[can.Observe.validatePresenceOf validatePresenceOf]<code>( attrNames, [options] )</code> Attributes are not blank.    </li>
<li>[can.Observe.validateRangeOf validateRangeOf]<code>(attrNames, low, hi, [options])</code> Attributes are in the given numeric range.</li>
</ul>

<h2>Error Method</h2>

<p><a href="">can.Observe::errors</a> runs the validations on this model. You can also pass it an array 
of attributes to run only those attributes. It returns 
nothing if there are no errors, or an object of errors by attribute.</p>

<p>To use validations, it's required you use the <em>observe/validations</em> plugin.</p>

<pre><code>can.Observe("Task",{
    init : function(){
        this.validatePresenceOf("dueDate")
    }
},{});

var task = new Task(),
    errors = task.errors()

errors.dueDate[0] //-&gt; "can't be empty"
</code></pre>

<h2>Listening to events</h2>

<p>Use <a href="can.Observe.prototype.bind.html">bind</a> to listen to error messages:</p>

<pre><code>contact.bind("error", function(ev, attr, errors){
    // attr = "birthday"
    // errors = { birthday: 
    //      ["your birthday needs to be in the past"] }
})
</code></pre>

<h2>Demo</h2>

<p>Click a person's name to update their birthday.  If you put the date
in the future, say the year 2525, it will report back an error.</p>
		</section>

		

		
		<section class="comment">
			<div class='demo_wrapper' data-demo-src='can/observe/validations/validations.html'></div>
		</section>
		
	</article>
</div>

<script type="text/javascript">
	var docData = {
    "type": "page",
    "name": "can.Observe.validations",
    "body": "<div class='demo_wrapper' data-demo-src='can/observe/validations/validations.html'></div>",
    "description": "<p>The <code>can/observe/validations</code> plugin provides validations on observes. Validations\nare set on [can.Observe]'s <strong>static</strong> <code>init</code> function.</p>\n\n<p>The following validates the <code>birthday</code> attribute in Contacts:</p>\n\n<pre><code>Contact = can.Observe({\n    init : function(){\n        // validates that birthday is in the future\n        this.validate(\"birthday\",function(birthday){\n            if(birthday &gt; new Date){\n                return \"your birthday needs to be in the past\"\n            }\n        })\n    }\n},{});\n\nvar contact = new Contact({birthday: new Date(2012,0) })\n</code></pre>\n\n<p>Use [can.Observe::errors errors] <code>( [attrs...], newVal )</code> to read errors\nor to test if setting a value would create an error:</p>\n\n<pre><code>// Check if there are errors on the instance\ncontact.errors() //-&gt; null - there are no errors\n\n// Test if setting birthday to new Date(3013,0) would error\ncontact.errros(\"birthday\", \n               new Date(3013,0) ) \n               //-&gt; [\"your birthday needs to be in the past\"] \n\n// Set birthday anyway\ncontact.attr(\"birthday\", new Date(3013,0) )\n\n// Get all errors\ncontact.errors() \n    //-&gt; {\n    //     birthday: [\"your birthday needs to be in the past\"]\n    //   }\n\n// Get errors for birthday\ncontact.errors(\"birthday\") \n    //-&gt; [\"your birthday needs to be in the past\"]\n</code></pre>\n\n<h2>Validation Methods</h2>\n\n<p>The most basic validate method is [can.Observe.validate validate]<code>()</code>.  </p>\n\n<p>There are several built-in validation methods so you don't have to define your own in all cases like in the birthday example above.</p>\n\n<ul>\n<li>[can.Observe.validate]<code>(attrNames, options, proc)</code> Attributes validated with function.</li>\n<li>[can.Observe.validateFormatOf]<code>(attrNames, regexp, options)</code> Attributes match the regular expression.    </li>\n<li>[can.Observe.validateInclusionOf]<code>( attrNames, inArray, [options] )</code> Attributes are available in a particular array.    </li>\n<li>[can.Observe.validateLengthOf validateLengthOf]<code>(attrNames, min, max, [options])</code> Attributes' lengths are in the given range.    </li>\n<li>[can.Observe.validatePresenceOf validatePresenceOf]<code>( attrNames, [options] )</code> Attributes are not blank.    </li>\n<li>[can.Observe.validateRangeOf validateRangeOf]<code>(attrNames, low, hi, [options])</code> Attributes are in the given numeric range.</li>\n</ul>\n\n<h2>Error Method</h2>\n\n<p><a href=\"\">can.Observe::errors</a> runs the validations on this model. You can also pass it an array \nof attributes to run only those attributes. It returns \nnothing if there are no errors, or an object of errors by attribute.</p>\n\n<p>To use validations, it's required you use the <em>observe/validations</em> plugin.</p>\n\n<pre><code>can.Observe(\"Task\",{\n    init : function(){\n        this.validatePresenceOf(\"dueDate\")\n    }\n},{});\n\nvar task = new Task(),\n    errors = task.errors()\n\nerrors.dueDate[0] //-&gt; \"can't be empty\"\n</code></pre>\n\n<h2>Listening to events</h2>\n\n<p>Use [can.Observe::bind bind] to listen to error messages:</p>\n\n<pre><code>contact.bind(\"error\", function(ev, attr, errors){\n    // attr = \"birthday\"\n    // errors = { birthday: \n    //      [\"your birthday needs to be in the past\"] }\n})\n</code></pre>\n\n<h2>Demo</h2>\n\n<p>Click a person's name to update their birthday.  If you put the date\nin the future, say the year 2525, it will report back an error.</p>",
    "title": "validations",
    "parent": "can.Observe",
    "plugin": "can/observe/validations",
    "download": "http://donejs.com/can/dist/can.observe.validations.js",
    "test": "can/observe/validations/qunit.html",
    "src": "can/observe/validations/validations.md",
    "id": 68
};

	console.log(docData);
</script>



	<footer>
		<nav class="container">
			<a class="brand canjs" href="index.html">CanJS</a>
			<ul class="pullright">
				<li><a href="../index.html">Home</a></li>
				<li><a href="../guides/index.html">Guides</a></li>
				<li><a href="../docs/index.html">Api</a></li>
				<li><a href="../community.html">Community</a></li>
				<li><a href="../download.html">Download</a></li>
			</ul>
		</nav>
	</footer>
	<!--[if lt IE 9]>
   <script type="text/javascript" src="../resources/html5shiv.js"></script>
    <!--<![endif]-->
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	
	<script type="text/javascript" src="../resources/production.js"></script>
	
</body>

</html>
